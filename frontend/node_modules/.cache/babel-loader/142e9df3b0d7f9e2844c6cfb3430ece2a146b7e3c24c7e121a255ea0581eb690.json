{"ast":null,"code":"import React,{useState}from'react';import{useNavigate}from'react-router-dom';import axios from'axios';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const LandingPage=()=>{const[profile,setProfile]=useState('');const[country,setCountry]=useState('');const[errorMessage,setErrorMessage]=useState('');const navigate=useNavigate();const handleProfileChange=event=>{setProfile(event.target.value);};const handleCountryChange=event=>{setCountry(event.target.value);};const handleSubmit=async()=>{if(profile&&country){// Store the profile and country info in localStorage\nlocalStorage.setItem('profile',profile);localStorage.setItem('country',country);try{// Make an API call to get filtered attractions\nconst response=await axios.get('http://127.0.0.1:8000/api/attractions/',{params:{profile,country}});// Handle the response, like storing it in state or redirecting\nconsole.log(response.data);navigate('/home');// Redirect to home page after successful submission\n}catch(error){console.error('Error fetching attractions:',error);setErrorMessage('Impossible de récupérer les attractions');}}else{setErrorMessage('Veuillez remplir tous les champs');}};return/*#__PURE__*/_jsxs(\"div\",{style:styles.container,children:[/*#__PURE__*/_jsx(\"h1\",{style:styles.title,children:\"Choisissez votre profil et pays\"}),errorMessage&&/*#__PURE__*/_jsx(\"p\",{style:styles.errorMessage,children:errorMessage}),/*#__PURE__*/_jsxs(\"div\",{style:styles.formGroup,children:[/*#__PURE__*/_jsx(\"label\",{style:styles.label,children:\"Profil:\"}),/*#__PURE__*/_jsxs(\"select\",{value:profile,onChange:handleProfileChange,style:styles.select,children:[/*#__PURE__*/_jsx(\"option\",{value:\"local\",children:\"Local\"}),/*#__PURE__*/_jsx(\"option\",{value:\"tourist\",children:\"Touriste\"}),/*#__PURE__*/_jsx(\"option\",{value:\"professional\",children:\"Professionnel\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{style:styles.formGroup,children:[/*#__PURE__*/_jsx(\"label\",{style:styles.label,children:\"Pays:\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"Entrez votre pays\",value:country,onChange:handleCountryChange,style:styles.input})]}),/*#__PURE__*/_jsx(\"button\",{onClick:handleSubmit,style:styles.button,children:\"Soumettre\"})]});};const styles={container:{padding:'20px',backgroundColor:'#2b2b2b',color:'#f1f1f1',fontFamily:'\"Arial\", sans-serif',maxWidth:'500px',margin:'0 auto',textAlign:'center',borderRadius:'10px',boxShadow:'0 0 10px rgba(0, 255, 0, 0.3)',minHeight:'70vh'// Minimum height to ensure the container isn't too small\n},title:{fontSize:'2.5rem',marginBottom:'20px',color:'#39ff14'// Green for the title\n},formGroup:{marginBottom:'20px'},label:{fontSize:'1.2rem',marginBottom:'10px',display:'block',color:'#d3d3d3'},select:{padding:'12px',fontSize:'1.1rem',width:'100%',borderRadius:'8px',border:'1px solid #39ff14',color:'#39ff14',backgroundColor:'#1a1a1a',transition:'background-color 0.3s ease'},input:{padding:'12px',fontSize:'1.1rem',width:'100%',borderRadius:'8px',border:'1px solid #39ff14',color:'#39ff14',backgroundColor:'#1a1a1a',transition:'background-color 0.3s ease'},button:{backgroundColor:'#39ff14',color:'#2b2b2b',border:'none',padding:'15px 30px',fontSize:'18px',cursor:'pointer',borderRadius:'8px',transition:'background-color 0.3s, transform 0.3s',boxShadow:'0 4px 6px rgba(0, 255, 0, 0.6)'},errorMessage:{color:'red',fontSize:'1.1rem',marginBottom:'20px'},buttonHover:{backgroundColor:'#28a410',// Darker green on hover\ntransform:'scale(1.05)'}};export default LandingPage;","map":{"version":3,"names":["React","useState","useNavigate","axios","jsx","_jsx","jsxs","_jsxs","LandingPage","profile","setProfile","country","setCountry","errorMessage","setErrorMessage","navigate","handleProfileChange","event","target","value","handleCountryChange","handleSubmit","localStorage","setItem","response","get","params","console","log","data","error","style","styles","container","children","title","formGroup","label","onChange","select","type","placeholder","input","onClick","button","padding","backgroundColor","color","fontFamily","maxWidth","margin","textAlign","borderRadius","boxShadow","minHeight","fontSize","marginBottom","display","width","border","transition","cursor","buttonHover","transform"],"sources":["C:/Users/narim/Projet_attractions/frontend/src/pages/LandingPage.js"],"sourcesContent":["import React, { useState } from 'react';\r\nimport { useNavigate } from 'react-router-dom';\r\nimport axios from 'axios';\r\n\r\nconst LandingPage = () => {\r\n  const [profile, setProfile] = useState('');\r\n  const [country, setCountry] = useState('');\r\n  const [errorMessage, setErrorMessage] = useState('');\r\n  const navigate = useNavigate();\r\n\r\n  const handleProfileChange = (event) => {\r\n    setProfile(event.target.value);\r\n  };\r\n\r\n  const handleCountryChange = (event) => {\r\n    setCountry(event.target.value);\r\n  };\r\n\r\n  const handleSubmit = async () => {\r\n    if (profile && country) {\r\n      // Store the profile and country info in localStorage\r\n      localStorage.setItem('profile', profile);\r\n      localStorage.setItem('country', country);\r\n\r\n      try {\r\n        // Make an API call to get filtered attractions\r\n        const response = await axios.get('http://127.0.0.1:8000/api/attractions/', {\r\n          params: { profile, country },\r\n        });\r\n\r\n        // Handle the response, like storing it in state or redirecting\r\n        console.log(response.data);\r\n        navigate('/home');  // Redirect to home page after successful submission\r\n      } catch (error) {\r\n        console.error('Error fetching attractions:', error);\r\n        setErrorMessage('Impossible de récupérer les attractions');\r\n      }\r\n    } else {\r\n      setErrorMessage('Veuillez remplir tous les champs');\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div style={styles.container}>\r\n      <h1 style={styles.title}>Choisissez votre profil et pays</h1>\r\n      {errorMessage && <p style={styles.errorMessage}>{errorMessage}</p>}\r\n\r\n      <div style={styles.formGroup}>\r\n        <label style={styles.label}>Profil:</label>\r\n        <select value={profile} onChange={handleProfileChange} style={styles.select}>\r\n          <option value=\"local\">Local</option>\r\n          <option value=\"tourist\">Touriste</option>\r\n          <option value=\"professional\">Professionnel</option>\r\n        </select>\r\n      </div>\r\n\r\n      <div style={styles.formGroup}>\r\n        <label style={styles.label}>Pays:</label>\r\n        <input \r\n          type=\"text\" \r\n          placeholder=\"Entrez votre pays\" \r\n          value={country} \r\n          onChange={handleCountryChange} \r\n          style={styles.input}\r\n        />\r\n      </div>\r\n\r\n      <button onClick={handleSubmit} style={styles.button}>Soumettre</button>\r\n    </div>\r\n  );\r\n};\r\n\r\nconst styles = {\r\n  container: {\r\n    padding: '20px',\r\n    backgroundColor: '#2b2b2b',\r\n    color: '#f1f1f1',\r\n    fontFamily: '\"Arial\", sans-serif',\r\n    maxWidth: '500px',\r\n    margin: '0 auto',\r\n    textAlign: 'center',\r\n    borderRadius: '10px',\r\n    boxShadow: '0 0 10px rgba(0, 255, 0, 0.3)',\r\n    minHeight: '70vh',  // Minimum height to ensure the container isn't too small\r\n  },\r\n  title: {\r\n    fontSize: '2.5rem',\r\n    marginBottom: '20px',\r\n    color: '#39ff14',  // Green for the title\r\n  },\r\n  formGroup: {\r\n    marginBottom: '20px',\r\n  },\r\n  label: {\r\n    fontSize: '1.2rem',\r\n    marginBottom: '10px',\r\n    display: 'block',\r\n    color: '#d3d3d3',\r\n  },\r\n  select: {\r\n    padding: '12px',\r\n    fontSize: '1.1rem',\r\n    width: '100%',\r\n    borderRadius: '8px',\r\n    border: '1px solid #39ff14',\r\n    color: '#39ff14',\r\n    backgroundColor: '#1a1a1a',\r\n    transition: 'background-color 0.3s ease',\r\n  },\r\n  input: {\r\n    padding: '12px',\r\n    fontSize: '1.1rem',\r\n    width: '100%',\r\n    borderRadius: '8px',\r\n    border: '1px solid #39ff14',\r\n    color: '#39ff14',\r\n    backgroundColor: '#1a1a1a',\r\n    transition: 'background-color 0.3s ease',\r\n  },\r\n  button: {\r\n    backgroundColor: '#39ff14',\r\n    color: '#2b2b2b',\r\n    border: 'none',\r\n    padding: '15px 30px',\r\n    fontSize: '18px',\r\n    cursor: 'pointer',\r\n    borderRadius: '8px',\r\n    transition: 'background-color 0.3s, transform 0.3s',\r\n    boxShadow: '0 4px 6px rgba(0, 255, 0, 0.6)',\r\n  },\r\n  errorMessage: {\r\n    color: 'red',\r\n    fontSize: '1.1rem',\r\n    marginBottom: '20px',\r\n  },\r\n  buttonHover: {\r\n    backgroundColor: '#28a410',  // Darker green on hover\r\n    transform: 'scale(1.05)',\r\n  },\r\n};\r\n\r\nexport default LandingPage;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}