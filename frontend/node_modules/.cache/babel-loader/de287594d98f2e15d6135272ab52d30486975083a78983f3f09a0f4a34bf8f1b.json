{"ast":null,"code":"import React,{useState,useEffect}from'react';import axios from'axios';import AttractionCard from'../components/AttractionCard';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const SearchPage=()=>{const[filters,setFilters]=useState({category:'',location:'',priceRange:''});const[attractions,setAttractions]=useState([]);const[loading,setLoading]=useState(false);const[error,setError]=useState(null);const handleFilterChange=event=>{const{name,value}=event.target;setFilters(prevFilters=>({...prevFilters,[name]:value}));};useEffect(()=>{if(!filters.category||!filters.location||!filters.priceRange)return;setLoading(true);setError(null);// Make the API request\naxios.get('http://127.0.0.1:8000/api/attractions/',{params:filters}).then(response=>{setAttractions(response.data);setLoading(false);}).catch(error=>{setError('Erreur lors de la récupération des attractions.');setLoading(false);});},[filters]);return/*#__PURE__*/_jsxs(\"div\",{style:styles.container,children:[/*#__PURE__*/_jsxs(\"header\",{style:styles.header,children:[/*#__PURE__*/_jsx(\"h1\",{style:styles.title,children:\"Rechercher des attractions\"}),/*#__PURE__*/_jsxs(\"div\",{style:styles.searchBox,children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"Cat\\xE9gorie\",name:\"category\",value:filters.category,onChange:handleFilterChange,style:styles.input}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"Localisation\",name:\"location\",value:filters.location,onChange:handleFilterChange,style:styles.input}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"Plage de prix\",name:\"priceRange\",value:filters.priceRange,onChange:handleFilterChange,style:styles.input})]})]}),error&&/*#__PURE__*/_jsx(\"p\",{style:styles.errorMessage,children:error}),loading?/*#__PURE__*/_jsx(\"div\",{style:styles.loading,children:\"Chargement...\"}):/*#__PURE__*/_jsx(\"div\",{style:styles.attractions,children:attractions.length>0?attractions.map(attraction=>/*#__PURE__*/_jsx(AttractionCard,{attraction:attraction},attraction.id)):/*#__PURE__*/_jsx(\"p\",{style:styles.noResults,children:\"Aucune attraction trouv\\xE9e.\"})}),/*#__PURE__*/_jsxs(\"div\",{style:styles.carousel,children:[/*#__PURE__*/_jsx(\"img\",{src:\"carousel-image1.jpg\",alt:\"Attraction 1\",style:styles.carouselImage}),/*#__PURE__*/_jsx(\"img\",{src:\"carousel-image2.jpg\",alt:\"Attraction 2\",style:styles.carouselImage}),/*#__PURE__*/_jsx(\"img\",{src:\"carousel-image3.jpg\",alt:\"Attraction 3\",style:styles.carouselImage})]})]});};const styles={container:{maxWidth:'1200px',margin:'0 auto',padding:'20px',fontFamily:'Arial, sans-serif'},header:{backgroundColor:'#007BFF',color:'#fff',padding:'20px',borderRadius:'8px',marginBottom:'20px'},title:{fontSize:'2rem',textAlign:'center'},searchBox:{display:'flex',justifyContent:'space-between',marginTop:'20px'},input:{padding:'10px',fontSize:'1rem',width:'30%',marginRight:'10px',borderRadius:'5px',border:'1px solid #ddd'},loading:{textAlign:'center',fontSize:'1.2rem',color:'#39ff14'},attractions:{display:'flex',flexWrap:'wrap',gap:'15px',justifyContent:'center'},noResults:{textAlign:'center',fontSize:'1.2rem',color:'#333'},errorMessage:{color:'red',fontSize:'1.2rem',textAlign:'center',marginBottom:'20px'},carousel:{display:'flex',justifyContent:'center',gap:'15px',marginTop:'30px'},carouselImage:{width:'200px',height:'150px',objectFit:'cover',borderRadius:'8px'}};export default SearchPage;","map":{"version":3,"names":["React","useState","useEffect","axios","AttractionCard","jsx","_jsx","jsxs","_jsxs","SearchPage","filters","setFilters","category","location","priceRange","attractions","setAttractions","loading","setLoading","error","setError","handleFilterChange","event","name","value","target","prevFilters","get","params","then","response","data","catch","style","styles","container","children","header","title","searchBox","type","placeholder","onChange","input","errorMessage","length","map","attraction","id","noResults","carousel","src","alt","carouselImage","maxWidth","margin","padding","fontFamily","backgroundColor","color","borderRadius","marginBottom","fontSize","textAlign","display","justifyContent","marginTop","width","marginRight","border","flexWrap","gap","height","objectFit"],"sources":["C:/Users/narim/Projet_attractions/frontend/src/pages/SearchPage.js"],"sourcesContent":["import React, { useState , useEffect } from 'react';\r\nimport axios from 'axios';\r\nimport AttractionCard from '../components/AttractionCard';\r\n\r\nconst SearchPage = () => {\r\n  const [filters, setFilters] = useState({ category: '', location: '', priceRange: '' });\r\n  const [attractions, setAttractions] = useState([]);\r\n  const [loading, setLoading] = useState(false);\r\n  const [error, setError] = useState(null);\r\n\r\n  const handleFilterChange = (event) => {\r\n    const { name, value } = event.target;\r\n    setFilters(prevFilters => ({ ...prevFilters, [name]: value }));\r\n  };\r\n  useEffect(() => {\r\n    if (!filters.category || !filters.location || !filters.priceRange) return;\r\n\r\n    setLoading(true);\r\n    setError(null);\r\n\r\n    // Make the API request\r\n    axios.get('http://127.0.0.1:8000/api/attractions/', { params: filters })\r\n      .then(response => {\r\n        setAttractions(response.data);\r\n        setLoading(false);\r\n      })\r\n      .catch(error => {\r\n        setError('Erreur lors de la récupération des attractions.');\r\n        setLoading(false);\r\n      });\r\n  }, [filters]);\r\n\r\n  return (\r\n    <div style={styles.container}>\r\n      <header style={styles.header}>\r\n        <h1 style={styles.title}>Rechercher des attractions</h1>\r\n        <div style={styles.searchBox}>\r\n          <input\r\n            type=\"text\"\r\n            placeholder=\"Catégorie\"\r\n            name=\"category\"\r\n            value={filters.category}\r\n            onChange={handleFilterChange}\r\n            style={styles.input}\r\n          />\r\n          <input\r\n            type=\"text\"\r\n            placeholder=\"Localisation\"\r\n            name=\"location\"\r\n            value={filters.location}\r\n            onChange={handleFilterChange}\r\n            style={styles.input}\r\n          />\r\n          <input\r\n            type=\"text\"\r\n            placeholder=\"Plage de prix\"\r\n            name=\"priceRange\"\r\n            value={filters.priceRange}\r\n            onChange={handleFilterChange}\r\n            style={styles.input}\r\n          />\r\n        </div>\r\n      </header>\r\n\r\n      {error && <p style={styles.errorMessage}>{error}</p>}\r\n\r\n      {loading ? (\r\n        <div style={styles.loading}>Chargement...</div>\r\n      ) : (\r\n        <div style={styles.attractions}>\r\n          {attractions.length > 0 ? (\r\n            attractions.map(attraction => (\r\n              <AttractionCard key={attraction.id} attraction={attraction} />\r\n            ))\r\n          ) : (\r\n            <p style={styles.noResults}>Aucune attraction trouvée.</p>\r\n          )}\r\n        </div>\r\n      )}\r\n\r\n      <div style={styles.carousel}>\r\n        <img src=\"carousel-image1.jpg\" alt=\"Attraction 1\" style={styles.carouselImage} />\r\n        <img src=\"carousel-image2.jpg\" alt=\"Attraction 2\" style={styles.carouselImage} />\r\n        <img src=\"carousel-image3.jpg\" alt=\"Attraction 3\" style={styles.carouselImage} />\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nconst styles = {\r\n  container: {\r\n    maxWidth: '1200px',\r\n    margin: '0 auto',\r\n    padding: '20px',\r\n    fontFamily: 'Arial, sans-serif',\r\n  },\r\n  header: {\r\n    backgroundColor: '#007BFF',\r\n    color: '#fff',\r\n    padding: '20px',\r\n    borderRadius: '8px',\r\n    marginBottom: '20px',\r\n  },\r\n  title: {\r\n    fontSize: '2rem',\r\n    textAlign: 'center',\r\n  },\r\n  searchBox: {\r\n    display: 'flex',\r\n    justifyContent: 'space-between',\r\n    marginTop: '20px',\r\n  },\r\n  input: {\r\n    padding: '10px',\r\n    fontSize: '1rem',\r\n    width: '30%',\r\n    marginRight: '10px',\r\n    borderRadius: '5px',\r\n    border: '1px solid #ddd',\r\n  },\r\n  loading: {\r\n    textAlign: 'center',\r\n    fontSize: '1.2rem',\r\n    color: '#39ff14',\r\n  },\r\n  attractions: {\r\n    display: 'flex',\r\n    flexWrap: 'wrap',\r\n    gap: '15px',\r\n    justifyContent: 'center',\r\n  },\r\n  noResults: {\r\n    textAlign: 'center',\r\n    fontSize: '1.2rem',\r\n    color: '#333',\r\n  },\r\n  errorMessage: {\r\n    color: 'red',\r\n    fontSize: '1.2rem',\r\n    textAlign: 'center',\r\n    marginBottom: '20px',\r\n  },\r\n  carousel: {\r\n    display: 'flex',\r\n    justifyContent: 'center',\r\n    gap: '15px',\r\n    marginTop: '30px',\r\n  },\r\n  carouselImage: {\r\n    width: '200px',\r\n    height: '150px',\r\n    objectFit: 'cover',\r\n    borderRadius: '8px',\r\n  },\r\n};\r\n\r\nexport default SearchPage;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}